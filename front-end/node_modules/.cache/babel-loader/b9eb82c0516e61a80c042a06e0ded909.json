{"ast":null,"code":"import axios from \"axios\";\nimport config from \"../axios-config\";\nimport postComment from \"@/components/posts/PostComment.vue\";\nexport default {\n  name: \"postBox\",\n  props: [\"post\"],\n  components: {\n    postComment\n  },\n\n  data() {\n    return {\n      formattedTimestamp: \"00/00/00 00:00\"\n    };\n  },\n\n  methods: {\n    onAddComment() {\n      this.post.id;\n      const commentObj = {};\n      axios.post(\"http://localhost:8000/api/post/createpost\", commentObj, config).then(response => {\n        if (response.status == 201) {\n          this.$router.go();\n        }\n      }).catch(err => console.log(err));\n    }\n\n  },\n\n  created() {\n    if (this.post.timestamp != null && this.post.timestamp != \"\") {\n      const values = this.post.timestamp.split(\"T\");\n      const date = values[0].split(\"-\");\n      const time = values[1].split(\":\");\n      this.formattedTimestamp = `${date[2]}/${date[1]}/${date[0]} à ${time[0]}h${time[1]}`;\n    }\n  }\n\n};","map":{"version":3,"mappings":"AA+CA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AAEA,eAAe;EACbC,IAAI,EAAE,SADO;EAEbC,KAAK,EAAE,CAAC,MAAD,CAFM;EAGbC,UAAU,EAAE;IACVH;EADU,CAHC;;EAMbI,IAAI,GAAG;IACL,OAAO;MACLC,kBAAkB,EAAE;IADf,CAAP;EAGD,CAVY;;EAWbC,OAAO,EAAE;IACPC,YAAY,GAAG;MACb,KAAKC,IAAL,CAAUC,EAAV;MAEA,MAAMC,UAAS,GAAI,EAAnB;MAEAZ,KAAI,CACDU,IADH,CACQ,2CADR,EACqDE,UADrD,EACiEX,MADjE,EAEGY,IAFH,CAESC,QAAD,IAAc;QAClB,IAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC1B,KAAKC,OAAL,CAAaC,EAAb;QACF;MACD,CANH,EAOGC,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;IAQD;;EAdM,CAXI;;EA2BbG,OAAO,GAAG;IACR,IAAI,KAAKZ,IAAL,CAAUa,SAAV,IAAuB,IAAvB,IAA+B,KAAKb,IAAL,CAAUa,SAAV,IAAuB,EAA1D,EAA8D;MAC5D,MAAMC,MAAK,GAAI,KAAKd,IAAL,CAAUa,SAAV,CAAoBE,KAApB,CAA0B,GAA1B,CAAf;MACA,MAAMC,IAAG,GAAIF,MAAM,CAAC,CAAD,CAAN,CAAUC,KAAV,CAAgB,GAAhB,CAAb;MACA,MAAME,IAAG,GAAIH,MAAM,CAAC,CAAD,CAAN,CAAUC,KAAV,CAAgB,GAAhB,CAAb;MACA,KAAKlB,kBAAL,GAA2B,GAAEmB,IAAI,CAAC,CAAD,CAAI,IAAGA,IAAI,CAAC,CAAD,CAAI,IAAGA,IAAI,CAAC,CAAD,CAAG,MAAMC,IAAI,CAAC,CAAD,CAAI,IAAGA,IAAI,CAAC,CAAD,CAAI,EAAnF;IACF;EACD;;AAlCY,CAAf","names":["axios","config","postComment","name","props","components","data","formattedTimestamp","methods","onAddComment","post","id","commentObj","then","response","status","$router","go","catch","err","console","log","created","timestamp","values","split","date","time"],"sourceRoot":"","sources":["C:\\Users\\Wilfre\\Desktop\\OC P7\\front-end\\src\\components\\posts\\PostBox.vue"],"sourcesContent":["<template>\r\n  <div class=\"post\">\r\n    <div class=\"post__userInfo\">\r\n      <img\r\n        class=\"userpic post__userPic\"\r\n        v-bind:src=\"`${post.user.profilePic}`\"\r\n        alt=\"Utilisateur {{post.user.prenom}} {{post.user.nom}}\"\r\n      />\r\n      <div class=\"post__usertext\">\r\n        <h3>{{ post.user.prenom }} {{ post.user.nom }}</h3>\r\n        <h5 class=\"post__usertext__time\">{{ formattedTimestamp }}</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"post__content\">\r\n      <p>{{ post.text }}</p>\r\n      <div v-if=\"post.image !== ''\" class=\"post__imageContainer\">\r\n        <img\r\n          class=\"post__image\"\r\n          v-bind:src=\"`http://localhost:8000/${post.image}`\"\r\n          alt=\"Image du post\"\r\n        />\r\n      </div>\r\n      <div class=\"comments_box\">\r\n        <div class=\"comments__container\">\r\n          <postComment\r\n            v-for=\"(comment, i) in post.comments\"\r\n            :key=\"i\"\r\n            v-bind:comment=\"post.comments[i]\"\r\n          />\r\n        </div>\r\n        <div class=\"comment_form\">\r\n          <img\r\n            class=\"userpic comment_form__userPic\"\r\n            v-bind:src=\"`${post.user.profilePic}`\"\r\n            alt=\"Utilisateur {{post.user.prenom}} {{post.user.nom}}\"\r\n          />\r\n          <form>\r\n            <input type=\"text\" placeholder=\"Commenter la publication\" />\r\n            <button @click.prevent=\"onAddComment\" class=\"btn\">Commenter</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"../axios-config\";\r\nimport postComment from \"@/components/posts/PostComment.vue\";\r\n\r\nexport default {\r\n  name: \"postBox\",\r\n  props: [\"post\"],\r\n  components: {\r\n    postComment,\r\n  },\r\n  data() {\r\n    return {\r\n      formattedTimestamp: \"00/00/00 00:00\",\r\n    };\r\n  },\r\n  methods: {\r\n    onAddComment() {\r\n      this.post.id;\r\n\r\n      const commentObj = {};\r\n\r\n      axios\r\n        .post(\"http://localhost:8000/api/post/createpost\", commentObj, config)\r\n        .then((response) => {\r\n          if (response.status == 201) {\r\n            this.$router.go();\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n  },\r\n  created() {\r\n    if (this.post.timestamp != null && this.post.timestamp != \"\") {\r\n      const values = this.post.timestamp.split(\"T\");\r\n      const date = values[0].split(\"-\");\r\n      const time = values[1].split(\":\");\r\n      this.formattedTimestamp = `${date[2]}/${date[1]}/${date[0]} à ${time[0]}h${time[1]}`;\r\n    }\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}