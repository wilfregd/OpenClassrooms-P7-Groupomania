{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, Fragment as _Fragment } from \"vue\";\nimport _imports_0 from './assets/logo/icon.svg';\nconst _hoisted_1 = {\n  key: 0,\n  class: \"navbar\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"navbar__logo\",\n  alt: \"Logo Groupomania\",\n  src: _imports_0\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  id: \"user_search_form\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-magnifying-glass fa-lg\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = {\n  class: \"navbar__userInfo\"\n};\nconst _hoisted_7 = [\"src\"];\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"button\", null, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-gear fa-lg\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-arrow-right-from-bracket fa-lg\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = [_hoisted_9];\nconst _hoisted_11 = {\n  class: \"site-wrapper\"\n};\nexport function render(_ctx, _cache) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [!_ctx.$route.meta.hideDefaultTemplate && _ctx.user ? (_openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_hoisted_2]),\n    _: 1\n    /* STABLE */\n\n  }), _createCommentVNode(\" Form recherche utilisateur \"), _createElementVNode(\"form\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.userSearchText = $event),\n    type: \"text\",\n    placeholder: \"Rechercher un utilisateur...\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.userSearchText]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => _ctx.onSearchUser && _ctx.onSearchUser(...args), [\"prevent\"]))\n  }, _hoisted_5)]), _createCommentVNode(\"\\n    <div class=\\\"navbar__links\\\">\\n      <router-link to=\\\"/\\\">Home</router-link> |\\n      <router-link to=\\\"/User\\\">User</router-link> |\\n      <router-link to=\\\"/Settings\\\">Settings</router-link>\\n    </div>\\n    \"), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: {\n      name: 'user',\n      params: {\n        id: `${_ctx.user.id}`\n      }\n    }\n  }, {\n    default: _withCtx(() => [_ctx.user.profilePic ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      class: \"userpic\",\n      src: `${_ctx.user.profilePic}`,\n      alt: \"Photo de profil utilisateur\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_7)) : _createCommentVNode(\"v-if\", true)]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"]), _createElementVNode(\"h3\", null, _toDisplayString(_ctx.user.prenom), 1\n  /* TEXT */\n  ), _createVNode(_component_router_link, {\n    to: \"/settings\"\n  }, {\n    default: _withCtx(() => [_hoisted_8]),\n    _: 1\n    /* STABLE */\n\n  }), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = _withModifiers((...args) => _ctx.onLogout && _ctx.onLogout(...args), [\"prevent\"]))\n  }, _hoisted_10)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_11, [_ctx.user ? (_openBlock(), _createBlock(_component_router_view, {\n    key: 0,\n    onUpdateUser: _ctx.onUpdateUser,\n    user: _ctx.user\n  }, null, 8\n  /* PROPS */\n  , [\"onUpdateUser\", \"user\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\"<footerMain v-if=\\\"!$route.meta.hideDefaultTemplate\\\" />\")])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";OAMQA,gBAA4B;;;EAL7BC,KAAK,EAAC;;;gCAEPC,oBAIE,KAJF,EAIE;EAHAD,KAAK,EAAC,cAGN;EAFAE,GAAG,EAAC,kBAEJ;EADAC,GAA4B,EAA5BJ;AACA,CAJF;;AAAA;;;EAQIK,EAAE,EAAC;;;gCAOLH,oBAAkD,GAAlD,EAAkD;EAA/CD,KAAK,EAAC;AAAyC,CAAlD,EAA6C,IAA7C,EAA6C;AAAA;AAA7C;;oBAAAK;;EAUCL,KAAK,EAAC;;;;gCAWPC,oBAES,QAFT,EAES,IAFT,EAES,cADPA,oBAAsC,GAAtC,EAAsC;EAAnCD,KAAK,EAAC;AAA6B,CAAtC,CACO,CAFT;;AAAA;;gCAKAC,oBAA0D,GAA1D,EAA0D;EAAvDD,KAAK,EAAC;AAAiD,CAA1D,EAAqD,IAArD,EAAqD;AAAA;AAArD;;qBAAAM;;EAIDN,KAAK,EAAC;;;;;;;8DA/CgBO,YAAOC,IAAP,CAAYC,uBAAuBF,2BAA9DG,oBA8CM,KA9CN,cA8CM,CA7CJC,aAMcC,sBANd,EAMc;IANDC,EAAE,EAAC;EAMF,CANd,EAAmB;sBACjB,MAIE,CAJFC,UAIE,EALe;;;;EAAA,CAAnB,CA6CI,EArCJC,mDAqCI,EApCJd,oBASO,MATP,cASO,iBARLA,oBAIE,OAJF,EAIE;+DAHSM,sBAAcS,OAGvB;IAFAC,IAAI,EAAC,MAEL;IADAC,WAAW,EAAC;EACZ,CAJF;;EAAA,kBACWX,sBAON,EAHLN,oBAES,QAFT,EAES;IAFAkB,OAAK,wDAAUZ,+CAAV,EAAsB,WAAtB;EAEL,CAFT,aAGK,CATP,CAoCI,EA1BJQ,gPA0BI,EAnBJd,oBAkBM,KAlBN,cAkBM,CAjBJU,aAOcC,sBAPd,EAOc;IAPAC,EAAE;MAAAO;MAAAC;QAAAjB,OAAmCG,UAAKH,EAAE;MAA1C;IAAA;EAOF,CAPd;sBACE,MAKE,CAHMG,UAAKe,4BAFbZ,oBAKE,KALF,EAKE;YAAA;MAJAV,KAAK,EAAC,SAIN;MAFOG,GAAG,KAAKI,UAAKe,UAAU,EAE9B;MADApB,GAAG,EAAC;IACJ,CALF;;IAAA,kDAKE;;;;GANJ;;EAAA,SAiBI,EATJD,oBAA0B,IAA1B,EAA0B,IAA1B,EAA0BsB,iBAAnBhB,UAAKiB,MAAc,CAA1B,EAAkB;EAAA;EAAlB,CASI,EARJb,aAIcC,sBAJd,EAIc;IAJDC,EAAE,EAAC;EAIF,CAJd,EAA2B;sBACzB,MAES,CAFTY,UAES,EAHgB;;;;EAAA,CAA3B,CAQI,EAHJxB,oBAES,QAFT,EAES;IAFAkB,OAAK,wDAAUZ,uCAAV,EAAkB,WAAlB;EAEL,CAFT,cAGI,CAlBN,CAmBI,CA9CN,wCA+CAN,oBAGM,KAHN,eAGM,CAFeM,2BAAnBmB,aAA0EC,sBAA1E,EAA0E;UAAA;IAAhDC,YAAW,EAAErB,iBAAmC;IAAdsB,IAAI,EAAEtB;EAAQ,CAA1E;;EAAA,gEAEI,EADJQ,+EACI,CAHN","names":["_imports_0","class","_createElementVNode","alt","src","id","_hoisted_4","_hoisted_9","_ctx","meta","hideDefaultTemplate","_createElementBlock","_createVNode","_component_router_link","to","_hoisted_2","_createCommentVNode","$event","type","placeholder","onClick","name","params","profilePic","_toDisplayString","prenom","_hoisted_8","_createBlock","_component_router_view","onUpdateUser","user"],"sourceRoot":"","sources":["C:\\Users\\Wilfre\\Desktop\\OC P7\\front-end\\src\\App.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar\" v-if=\"!$route.meta.hideDefaultTemplate && user\" v-cloak>\n    <router-link to=\"/\">\n      <img\n        class=\"navbar__logo\"\n        alt=\"Logo Groupomania\"\n        src=\"./assets/logo/icon.svg\"\n      />\n    </router-link>\n\n    <!-- Form recherche utilisateur -->\n    <form id=\"user_search_form\">\n      <input\n        v-model=\"userSearchText\"\n        type=\"text\"\n        placeholder=\"Rechercher un utilisateur...\"\n      />\n      <button @click.prevent=\"onSearchUser\">\n        <i class=\"fa-solid fa-magnifying-glass fa-lg\"></i>\n      </button>\n    </form>\n    <!--\n    <div class=\"navbar__links\">\n      <router-link to=\"/\">Home</router-link> |\n      <router-link to=\"/User\">User</router-link> |\n      <router-link to=\"/Settings\">Settings</router-link>\n    </div>\n    -->\n    <div class=\"navbar__userInfo\">\n      <router-link :to=\"{ name: 'user', params: { id: `${user.id}` } }\">\n        <img\n          class=\"userpic\"\n          v-if=\"user.profilePic\"\n          v-bind:src=\"`${user.profilePic}`\"\n          alt=\"Photo de profil utilisateur\"\n        />\n      </router-link>\n      <h3>{{ user.prenom }}</h3>\n      <router-link to=\"/settings\">\n        <button>\n          <i class=\"fa-solid fa-gear fa-lg\"></i>\n        </button>\n      </router-link>\n      <button @click.prevent=\"onLogout\">\n        <i class=\"fa-solid fa-arrow-right-from-bracket fa-lg\"></i>\n      </button>\n    </div>\n  </nav>\n  <div class=\"site-wrapper\">\n    <router-view v-if=\"user\" @update-user=\"onUpdateUser\" v-bind:user=\"user\" />\n    <!--<footerMain v-if=\"!$route.meta.hideDefaultTemplate\" />-->\n  </div>\n</template>\n\n<script>\n//import footerMain from \"@/layout/footerMain.vue\";\nimport axios from \"axios\";\nimport config from \"./axios-config\";\n\nexport default {\n  data() {\n    return {\n      user: {},\n      userSearchText= '',\n    };\n  },\n  components: {\n    //footerMain,\n  },\n  beforeCreate() {\n    axios\n      .get(\"http://localhost:8000/api/auth/isloggedin\", config)\n      .then((response) => {\n        if (response.data.message == 0) {\n          //Redirection si l'utilisateur n'est pas connecté\n          this.$router.push(\"auth\");\n        } else {\n          //Connecté, on obtiens l'utilisateur actuel\n          this.user = response.data;\n        }\n      });\n  },\n  methods: {\n    onSearchUser(){\n      if(userSearchText != ''){\n        this.$route.push(\"/user/\" + this.userSearchText);\n      }\n    },\n    onUpdateUser(data) {\n      this.user = data;\n    },\n    onLogout() {\n      axios\n        .get(\"http://localhost:8000/api/auth/logout\", config)\n        .then((response) => {\n          if (response) {\n            this.$router.push(\"auth\");\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style>\n@import \"./assets/styles/style.css\";\n</style>"]},"metadata":{},"sourceType":"module"}