{"ast":null,"code":"//import footerMain from \"@/layout/footerMain.vue\";\nimport axios from \"axios\";\nimport config from \"./axios-config\";\nexport default {\n  data() {\n    return {\n      user: {},\n      userSearchText: \"\"\n    };\n  },\n\n  components: {//footerMain,\n  },\n\n  beforeCreate() {\n    axios.get(\"http://localhost:8000/api/auth/isloggedin\", config).then(response => {\n      if (response.data.message == 0) {\n        //Redirection si l'utilisateur n'est pas connecté\n        this.$router.push(\"auth\");\n      } else {\n        //Connecté, on obtiens l'utilisateur actuel\n        this.user = response.data;\n      }\n    });\n  },\n\n  methods: {\n    onUpdateUser(data) {\n      this.user = data;\n    },\n\n    onLogout() {\n      axios.get(\"http://localhost:8000/api/auth/logout\", config).then(response => {\n        if (response) {\n          this.$router.push(\"auth\");\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2CA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE,EADD;MAELC,cAAc,EAAE;IAFX,CAAP;EAID,CANY;;EAObC,UAAU,EAAE,CACV;EADU,CAPC;;EAUbC,YAAY,GAAG;IACbN,KAAI,CACDO,GADH,CACO,2CADP,EACoDN,MADpD,EAEGO,IAFH,CAESC,QAAD,IAAc;MAClB,IAAIA,QAAQ,CAACP,IAAT,CAAcQ,OAAd,IAAyB,CAA7B,EAAgC;QAC9B;QACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB,MAAlB;MACF,CAHA,MAGO;QACL;QACA,KAAKT,IAAL,GAAYM,QAAQ,CAACP,IAArB;MACF;IACD,CAVH;EAWD,CAtBY;;EAuBbW,OAAO,EAAE;IACPC,YAAY,CAACZ,IAAD,EAAO;MACjB,KAAKC,IAAL,GAAYD,IAAZ;IACD,CAHM;;IAIPa,QAAQ,GAAG;MACTf,KAAI,CACDO,GADH,CACO,uCADP,EACgDN,MADhD,EAEGO,IAFH,CAESC,QAAD,IAAc;QAClB,IAAIA,QAAJ,EAAc;UACZ,KAAKE,OAAL,CAAaC,IAAb,CAAkB,MAAlB;QACF;MACD,CANH;IAOD;;EAZM;AAvBI,CAAf","names":["axios","config","data","user","userSearchText","components","beforeCreate","get","then","response","message","$router","push","methods","onUpdateUser","onLogout"],"sourceRoot":"","sources":["C:\\Users\\Wilfre\\Desktop\\OC P7\\front-end\\src\\App.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar\" v-if=\"!$route.meta.hideDefaultTemplate && user\" v-cloak>\n    <router-link to=\"/\">\n      <img\n        class=\"navbar__logo\"\n        alt=\"Logo Groupomania\"\n        src=\"./assets/logo/icon.svg\"\n      />\n    </router-link>\n    <!--\n    <div class=\"navbar__links\">\n      <router-link to=\"/\">Home</router-link> |\n      <router-link to=\"/User\">User</router-link> |\n      <router-link to=\"/Settings\">Settings</router-link>\n    </div>\n    -->\n    <div class=\"navbar__userInfo\">\n      <router-link :to=\"{ name: 'user', params: { id: `${user.id}` } }\">\n        <img\n          class=\"userpic\"\n          v-if=\"user.profilePic\"\n          v-bind:src=\"`${user.profilePic}`\"\n          alt=\"Photo de profil utilisateur\"\n        />\n      </router-link>\n      <h3>{{ user.prenom }}</h3>\n      <router-link to=\"/settings\">\n        <button>\n          <i class=\"fa-solid fa-gear fa-lg\"></i>\n        </button>\n      </router-link>\n      <button @click.prevent=\"onLogout\">\n        <i class=\"fa-solid fa-arrow-right-from-bracket fa-lg\"></i>\n      </button>\n    </div>\n  </nav>\n  <div class=\"site-wrapper\">\n    <router-view v-if=\"user\" @update-user=\"onUpdateUser\" v-bind:user=\"user\" />\n    <!--<footerMain v-if=\"!$route.meta.hideDefaultTemplate\" />-->\n  </div>\n</template>\n\n<script>\n//import footerMain from \"@/layout/footerMain.vue\";\nimport axios from \"axios\";\nimport config from \"./axios-config\";\n\nexport default {\n  data() {\n    return {\n      user: {},\n      userSearchText: \"\",\n    };\n  },\n  components: {\n    //footerMain,\n  },\n  beforeCreate() {\n    axios\n      .get(\"http://localhost:8000/api/auth/isloggedin\", config)\n      .then((response) => {\n        if (response.data.message == 0) {\n          //Redirection si l'utilisateur n'est pas connecté\n          this.$router.push(\"auth\");\n        } else {\n          //Connecté, on obtiens l'utilisateur actuel\n          this.user = response.data;\n        }\n      });\n  },\n  methods: {\n    onUpdateUser(data) {\n      this.user = data;\n    },\n    onLogout() {\n      axios\n        .get(\"http://localhost:8000/api/auth/logout\", config)\n        .then((response) => {\n          if (response) {\n            this.$router.push(\"auth\");\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style>\n@import \"./assets/styles/style.css\";\n</style>"]},"metadata":{},"sourceType":"module"}