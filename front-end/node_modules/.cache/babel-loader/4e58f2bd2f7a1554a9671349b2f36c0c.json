{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/logo/icon-left-font-monochrome-black.svg';\nconst _hoisted_1 = {\n  id: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"main-content\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"Logo Groupomania\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  id: \"form-container\"\n};\nconst _hoisted_5 = {\n  id: \"form-buttons\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"auth-form\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"auth-form__title\"\n}, \"Connection\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = {\n  key: 1,\n  class: \"auth-form\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"auth-form__title\"\n}, \"Inscription\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" FORM BUTTONS \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"form_button\", {\n      'form_button--active': $data.display == 0\n    }]),\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.onClickLoginTab && $options.onClickLoginTab(...args))\n  }, \" Connection \", 2\n  /* CLASS */\n  ), _createElementVNode(\"button\", {\n    class: _normalizeClass([\"form_button\", {\n      'form_button--active': $data.display == 1\n    }]),\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.onClickSignupTab && $options.onClickSignupTab(...args))\n  }, \" Inscription \", 2\n  /* CLASS */\n  )]), _createCommentVNode(\" LOGIN \"), $data.display == 0 ? (_openBlock(), _createElementBlock(\"form\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    class: \"auth-form__input\",\n    type: \"email\",\n    placeholder: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.lEmail = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.lEmail]]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"auth-form__input\",\n    type: \"password\",\n    placeholder: \"mot de passe\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.lPassword = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.lPassword]]), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.onClickLogin && $options.onClickLogin(...args), [\"prevent\"])),\n    class: \"auth-form__submit\"\n  }, \" Se connecter \")])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" SIGNUP \"), $data.display == 1 ? (_openBlock(), _createElementBlock(\"form\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    class: \"auth-form__input\",\n    type: \"text\",\n    placeholder: \"nom\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.sNom = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.sNom]]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"auth-form__input\",\n    type: \"text\",\n    placeholder: \"prénom\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.sPrenom = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.sPrenom]]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"auth-form__input\",\n    type: \"email\",\n    placeholder: \"email\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.sEmail = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.sEmail]]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"auth-form__input\",\n    type: \"password\",\n    placeholder: \"mot de passe\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.sPassword = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.sPassword]]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"auth-form__input\",\n    type: \"password\",\n    placeholder: \"confirmation mot de passe\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.sConfPassword = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.sConfPassword]]), _createElementVNode(\"button\", {\n    onClick: _cache[10] || (_cache[10] = _withModifiers((...args) => $options.onClickSignup && $options.onClickSignup(...args), [\"prevent\"])),\n    class: \"auth-form__submit\"\n  }, \" S'inscrire \")])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","id","class","_createElementVNode","src","alt","_createElementBlock","_hoisted_3","_createCommentVNode","$data","onClick","$options","_hoisted_7","type","placeholder","$event","_hoisted_9"],"sourceRoot":"","sources":["C:\\Users\\Wilfre\\Desktop\\OC P7\\front-end\\src\\views\\AuthView.vue"],"sourcesContent":["<template>\r\n  <div id=\"container\" v-cloak>\r\n    <div class=\"main-content\">\r\n      <img\r\n        src=\"../assets/logo/icon-left-font-monochrome-black.svg\"\r\n        alt=\"Logo Groupomania\"\r\n      />\r\n\r\n      <div id=\"form-container\">\r\n        <!-- FORM BUTTONS -->\r\n        <div id=\"form-buttons\">\r\n          <button\r\n            class=\"form_button\"\r\n            @click=\"onClickLoginTab\"\r\n            v-bind:class=\"{ 'form_button--active': display == 0 }\"\r\n          >\r\n            Connection\r\n          </button>\r\n          <button\r\n            class=\"form_button\"\r\n            @click=\"onClickSignupTab\"\r\n            v-bind:class=\"{ 'form_button--active': display == 1 }\"\r\n          >\r\n            Inscription\r\n          </button>\r\n        </div>\r\n\r\n        <!-- LOGIN -->\r\n        <form v-if=\"display == 0\" class=\"auth-form\">\r\n          <h3 class=\"auth-form__title\">Connection</h3>\r\n          <input\r\n            class=\"auth-form__input\"\r\n            type=\"email\"\r\n            placeholder=\"email\"\r\n            v-model=\"lEmail\"\r\n          />\r\n          <input\r\n            class=\"auth-form__input\"\r\n            type=\"password\"\r\n            placeholder=\"mot de passe\"\r\n            v-model=\"lPassword\"\r\n          />\r\n          <button @click.prevent=\"onClickLogin\" class=\"auth-form__submit\">\r\n            Se connecter\r\n          </button>\r\n        </form>\r\n\r\n        <!-- SIGNUP -->\r\n        <form v-if=\"display == 1\" class=\"auth-form\">\r\n          <h3 class=\"auth-form__title\">Inscription</h3>\r\n          <input\r\n            class=\"auth-form__input\"\r\n            type=\"text\"\r\n            placeholder=\"nom\"\r\n            v-model=\"sNom\"\r\n          />\r\n          <input\r\n            class=\"auth-form__input\"\r\n            type=\"text\"\r\n            placeholder=\"prénom\"\r\n            v-model=\"sPrenom\"\r\n          />\r\n          <input\r\n            class=\"auth-form__input\"\r\n            type=\"email\"\r\n            placeholder=\"email\"\r\n            v-model=\"sEmail\"\r\n          />\r\n          <input\r\n            class=\"auth-form__input\"\r\n            type=\"password\"\r\n            placeholder=\"mot de passe\"\r\n            v-model=\"sPassword\"\r\n          />\r\n          <input\r\n            class=\"auth-form__input\"\r\n            type=\"password\"\r\n            placeholder=\"confirmation mot de passe\"\r\n            v-model=\"sConfPassword\"\r\n          />\r\n          <button @click.prevent=\"onClickSignup\" class=\"auth-form__submit\">\r\n            S'inscrire\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\n//import HelloWorld from '@/components/HelloWorld.vue'\r\nimport axios from \"axios\";\r\nimport config from \"../axios-config\";\r\n\r\nexport default {\r\n  name: \"AuthView\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      display: 0,\r\n\r\n      //Login form\r\n      lEmail: \"\",\r\n      lPassword: \"\",\r\n\r\n      //Signup form\r\n      sNom: \"\",\r\n      sPrenom: \"\",\r\n      sEmail: \"\",\r\n      sPassword: \"\",\r\n      sConfPassword: \"\", //TODO manage password confirm\r\n    };\r\n  },\r\n  created() {\r\n    //Vérification d'une connection existante avec le serveur\r\n    axios\r\n      .get(\"http://localhost:8000/api/auth/isloggedin\", config)\r\n      .then((response) => {\r\n        if (response.data.message == 1) {\r\n          //Connecté, redirection\r\n          this.$router.push(\"user\");\r\n        }\r\n      });\r\n  },\r\n  methods: {\r\n    //Tabs\r\n    onClickLoginTab() {\r\n      this.display = 0;\r\n    },\r\n\r\n    onClickSignupTab() {\r\n      this.display = 1;\r\n    },\r\n\r\n    //Actions\r\n    onClickLogin() {\r\n      //Logging In\r\n      axios\r\n        .post(\r\n          \"http://localhost:8000/api/auth/login\",\r\n          {\r\n            email: this.lEmail,\r\n            password: this.lPassword,\r\n          },\r\n          config\r\n        )\r\n        .then((response) => {\r\n          if (response.status == 200) {\r\n            //Connecté, redirection\r\n            this.$router.push(\"user\");\r\n          }\r\n        });\r\n    },\r\n    onClickSignup() {\r\n      //Signing Up\r\n      axios\r\n        .post(\r\n          \"http://localhost:8000/api/auth/signup\",\r\n          {\r\n            nom: this.sNom,\r\n            prenom: this.sPrenom,\r\n            email: this.sEmail,\r\n            password: this.sPassword,\r\n          },\r\n          config\r\n        )\r\n        .then((response) => {\r\n          if (response.status == 201) {\r\n            //Inscrit et connecté, redirection\r\n            this.$router.push(\"user\");\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}