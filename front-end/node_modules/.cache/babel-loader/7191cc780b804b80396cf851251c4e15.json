{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createBlock(_component_router_view, {\n    user: $data.user\n  }, null, 8\n  /* PROPS */\n  , [\"user\"]);\n}","map":{"version":3,"mappings":";;;;uBACEA,aAAkCC,sBAAlC,EAAkC;IAAdC,IAAI,EAAEC;EAAQ,CAAlC,EAA8B,IAA9B,EAA8B;EAAA;EAA9B,EAA8B,QAA9B","names":["_createBlock","_component_router_view","user","$data"],"sourceRoot":"","sources":["C:\\Users\\Wilfre\\Desktop\\OC P7\\front-end\\src\\App.vue"],"sourcesContent":["<template>\n  <router-view v-bind:user=\"user\" />\n</template>\n\n<script>\nimport axios from \"axios\";\nimport config from \"./axios-config\";\n\nexport default {\n  data() {\n    return {\n      user: {},\n    };\n  },\n  created() {\n    axios\n      .get(\"http://localhost:8000/api/auth/isloggedin\", config)\n      .then((response) => {\n        if (response.data.message == 0) {\n          //Redirection si l'utilisateur n'est pas connecté\n          this.$router.push(\"auth\");\n        } else {\n          //Connecté, on obtiens l'utilisateur actuel\n          this.user = response.data;\n        }\n      });\n  },\n  methods: {\n    handleUpdateNavbar(value) {\n      this.nav_name = value;\n    },\n    onLogout() {\n      axios\n        .get(\"http://localhost:8000/api/auth/logout\", config)\n        .then((response) => {\n          console.log(response);\n          console.log(response.status);\n          if (response) {\n            this.$router.push(\"auth\");\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style>\n@import \"./assets/styles/style.css\";\n</style>"]},"metadata":{},"sourceType":"module"}