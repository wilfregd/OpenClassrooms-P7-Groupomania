{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createBlock as _createBlock, createStaticVNode as _createStaticVNode, Fragment as _Fragment } from \"vue\";\nimport _imports_0 from './assets/logo/icon.svg';\nconst _hoisted_1 = {\n  key: 0,\n  class: \"navbar\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<img class=\\\"navbar__logo\\\" alt=\\\"Logo Groupomania\\\" src=\\\"\" + _imports_0 + \"\\\"><div class=\\\"navbar__links\\\"><!--\\n      &lt;router-link to=&quot;/&quot;&gt;Home&lt;/router-link&gt; |\\n      &lt;router-link to=&quot;/User&quot;&gt;User&lt;/router-link&gt; |\\n      &lt;router-link to=&quot;/Settings&quot;&gt;Settings&lt;/router-link&gt;\\n      --><!-- Form recherche utilisateur --><form id=\\\"user_search_form\\\"><input type=\\\"text\\\"><button><i class=\\\"fa-solid fa-magnifying-glass\\\"></i></button></form></div>\", 2);\n\nconst _hoisted_4 = {\n  class: \"navbar__userInfo\"\n};\nconst _hoisted_5 = [\"src\"];\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-arrow-right-from-bracket fa-lg\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  class: \"site-wrapper\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [!_ctx.$route.meta.hideDefaultTemplate && $data.user ? (_openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_4, [$data.user.profilePic ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    class: \"userpic\",\n    src: `${$data.user.profilePic}`,\n    alt: \"Photo de profil utilisateur\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_5)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h3\", null, _toDisplayString($data.user.prenom), 1\n  /* TEXT */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.onLogout && $options.onLogout(...args), [\"prevent\"]))\n  }, _hoisted_7)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_8, [$data.user ? (_openBlock(), _createBlock(_component_router_view, {\n    key: 0,\n    onUpdateUser: $options.updateUser,\n    user: $data.user\n  }, null, 8\n  /* PROPS */\n  , [\"onUpdateUser\", \"user\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\"<footerMain v-if=\\\"!$route.meta.hideDefaultTemplate\\\" />\")])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";OAKMA,gBAA4B;;;EAJ3BC,KAAK,EAAC;;;;;;EAkBJA,KAAK,EAAC;;;;gCASPC,oBAA0D,GAA1D,EAA0D;EAAvDD,KAAK,EAAC;AAAiD,CAA1D,EAAqD,IAArD,EAAqD;AAAA;AAArD;;oBAAAE;;EAIDF,KAAK,EAAC;;;;;8DA/BgBG,YAAOC,IAAP,CAAYC,uBAAuBC,4BAA9DC,oBA8BM,KA9BN,cA8BM,CA7BJC,UA6BI,EAZJP,oBAWM,KAXN,cAWM,CARIK,WAAKG,4BAFbF,oBAKE,KALF,EAKE;UAAA;IAJAP,KAAK,EAAC,SAIN;IAFOU,GAAG,KAAKJ,WAAKG,UAAU,EAE9B;IADAE,GAAG,EAAC;EACJ,CALF;;EAAA,kDAUI,EAJJV,oBAA0B,IAA1B,EAA0B,IAA1B,EAA0BW,iBAAnBN,WAAKO,MAAc,CAA1B,EAAkB;EAAA;EAAlB,CAII,EAHJZ,oBAES,QAFT,EAES;IAFAa,OAAK,wDAAUC,+CAAV,EAAkB,WAAlB;EAEL,CAFT,aAGI,CAXN,CAYI,CA9BN,wCA+BAd,oBAGM,KAHN,cAGM,CAFeK,4BAAnBU,aAAwEC,sBAAxE,EAAwE;UAAA;IAA9CC,YAAW,EAAEH,mBAAiC;IAAdI,IAAI,EAAEb;EAAQ,CAAxE;;EAAA,gEAEI,EADJc,+EACI,CAHN","names":["_imports_0","class","_createElementVNode","_hoisted_6","_ctx","meta","hideDefaultTemplate","$data","_createElementBlock","_hoisted_2","profilePic","src","alt","_toDisplayString","prenom","onClick","$options","_createBlock","_component_router_view","onUpdateUser","user","_createCommentVNode"],"sourceRoot":"","sources":["C:\\Users\\Wilfre\\Desktop\\OC P7\\front-end\\src\\App.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar\" v-if=\"!$route.meta.hideDefaultTemplate && user\" v-cloak>\n    <img\n      class=\"navbar__logo\"\n      alt=\"Logo Groupomania\"\n      src=\"./assets/logo/icon.svg\"\n    />\n    <div class=\"navbar__links\">\n      <!--\n      <router-link to=\"/\">Home</router-link> |\n      <router-link to=\"/User\">User</router-link> |\n      <router-link to=\"/Settings\">Settings</router-link>\n      -->\n      <!-- Form recherche utilisateur -->\n      <form id=\"user_search_form\">\n        <input type=\"text\" />\n        <button><i class=\"fa-solid fa-magnifying-glass\"></i></button>\n      </form>\n    </div>\n    <div class=\"navbar__userInfo\">\n      <img\n        class=\"userpic\"\n        v-if=\"user.profilePic\"\n        v-bind:src=\"`${user.profilePic}`\"\n        alt=\"Photo de profil utilisateur\"\n      />\n      <h3>{{ user.prenom }}</h3>\n      <button @click.prevent=\"onLogout\">\n        <i class=\"fa-solid fa-arrow-right-from-bracket fa-lg\"></i>\n      </button>\n    </div>\n  </nav>\n  <div class=\"site-wrapper\">\n    <router-view v-if=\"user\" @update-user=\"updateUser\" v-bind:user=\"user\" />\n    <!--<footerMain v-if=\"!$route.meta.hideDefaultTemplate\" />-->\n  </div>\n</template>\n\n<script>\n//import footerMain from \"@/layout/footerMain.vue\";\nimport axios from \"axios\";\nimport config from \"./axios-config\";\n\nexport default {\n  data() {\n    return {\n      user: {},\n    };\n  },\n  components: {\n    //footerMain,\n  },\n  beforeCreate() {\n    axios\n      .get(\"http://localhost:8000/api/auth/isloggedin\", config)\n      .then((response) => {\n        if (response.data.message == 0) {\n          //Redirection si l'utilisateur n'est pas connecté\n          this.$router.push(\"auth\");\n        } else {\n          //Connecté, on obtiens l'utilisateur actuel\n          this.user = response.data;\n        }\n      });\n  },\n  methods: {\n    updateUser(data) {\n      this.user = data;\n    },\n    onLogout() {\n      axios\n        .get(\"http://localhost:8000/api/auth/logout\", config)\n        .then((response) => {\n          if (response) {\n            this.$router.push(\"auth\");\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style>\n@import \"./assets/styles/style.css\";\n</style>"]},"metadata":{},"sourceType":"module"}